<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## spore-kit-fx

-   **See: [https://github.com/SporeUI/spore-kit/tree/master/packages/fx][1]**

# 动画交互相关工具

### Examples

```javascript
// 统一引入 spore-kit
var $kit = require('spore-kit');
console.info($kit.fx.smoothScrollTo);

// 单独引入 spore-kit-fx
var $fx = require('spore-kit-fx');
console.info($fx.smoothScrollTo);

// 单独引入一个方法
var $smoothScrollTo = require('spore-kit-fx/smoothScrollTo');
```

## easing

-   **See: [https://gist.github.com/gre/1650294][2]**

简单的 Easing Functions

-   值域变化范围，从 [0, 1] 到 [0, 1]
-   即输入值范围从 0 到 1
-   输出也为从 0 到 1
-   适合进行百分比动画运算

动画函数

-   linear
-   easeInQuad
-   easeOutQuad
-   easeInOutQuad
-   easeInCubic
-   easeInQuart
-   easeOutQuart
-   easeInOutQuart
-   easeInQuint
-   easeOutQuint
-   easeInOutQuint

### Examples

```javascript
easing.linear(0.5); // 0.5
easing.easeInQuad(0.5); // 0.25
easing.easeInCubic(0.5); // 0.125
```

## flashAction

封装闪烁动作

### Parameters

-   `options` **[object][3]** 选项
    -   `options.times` **[number][4]** 闪烁次数，默认3次 (optional, default `3`)
    -   `options.delay` **[number][4]** 闪烁间隔时间(ms) (optional, default `100`)
    -   `options.actionOdd` **[function][5]?** 奇数回调
    -   `options.actionEven` **[function][5]?** 偶数回调
    -   `options.recover` **[function][5]?** 状态恢复回调

### Examples

```javascript
// 文字闪烁，奇数次呈现为红色，偶数次成纤维蓝色，动画结束呈现为黑色
var text = $('#target span.txt');
$flashAction({
	actionOdd : function (){
		text.css('color', '#f00');
	},
	actionEven : function (){
		text.css('color', '#00f');
	},
	recover : function (){
		text.css('color', '#000');
	}
});
```

## Fx

-   **See: [https://mootools.net/core/docs/1.6.0/Fx/Fx][6]**

动画类 - 用于处理不适合使用 transition 的动画场景

可绑定的事件

-   start 动画开始时触发
-   complete 动画已完成
-   stop 动画尚未完成就被中断
-   cancel 动画被取消

### Parameters

-   `options` **[Object][3]?** 动画选项
    -   `options.fps` **[Number][4]** 帧速率(f/s)，实际上动画运行的最高帧速率不会高于 requestAnimationFrame 提供的帧速率 (optional, default `60`)
    -   `options.duration` **[Number][4]** 动画持续时间(ms) (optional, default `500`)
    -   `options.transition` **([String][7] \| [Function][5])?** 动画执行方式，参见 spore-kit-fx/transitions
    -   `options.frames` **[Number][4]?** 从哪一帧开始执行
    -   `options.frameSkip` **[Boolean][8]** 是否跳帧 (optional, default `true`)
    -   `options.link` **[String][7]** 动画衔接方式，可选：['ignore', 'cancel'] (optional, default `'ignore'`)

### Examples

```javascript
var fx = new Fx({
	duration : 1000
});
fx.set = function (now) {
	node.style.marginLeft = now + 'px';
};
fx.on('complete', function(){
	console.info('animation end');
});
fx.start(0, 600);  // 1秒内数字从0增加到600
```

### Fx#setOptions

设置实例的选项

#### Parameters

-   `options` **[Object][3]** 动画选项

### Fx#getTransition

设置动画的执行方式，配置缓动效果

#### Examples

```javascript
var fx = new Fx();
fx.getTransition = function () {
	return function (p) {
		return -(Math.cos(Math.PI * p) - 1) / 2;
	};
};
```

### Fx#set

设置当前动画帧的过渡数值

#### Parameters

-   `now` **[Number][4]** 当前动画帧的过渡数值

#### Examples

```javascript
var fx = new Fx();
fx.set = function (now) {
	node.style.marginLeft = now + 'px';
};
```

### Fx#start

开始执行动画

#### Parameters

-   `from` **[Number][4]** 动画开始数值
-   `to` **[Number][4]** 动画结束数值

#### Examples

```javascript
var fx = new Fx();
fx.start(); // 开始动画
```

### Fx#stop

停止动画

#### Examples

```javascript
var fx = new Fx();
fx.start();
fx.stop(); // 立刻停止动画
```

### Fx#cancel

取消动画

#### Examples

```javascript
var fx = new Fx();
fx.start();
fx.cancel(); // 立刻取消动画
```

### Fx#pause

暂停动画

#### Examples

```javascript
var fx = new Fx();
fx.start();
fx.pause(); // 立刻暂停动画
```

### Fx#resume

继续执行动画

#### Examples

```javascript
var fx = new Fx();
fx.start();
fx.pause();
fx.resume(); // 立刻继续动画
```

### Fx#isRunning

判断动画是否正在运行

#### Examples

```javascript
var fx = new Fx();
fx.start();
fx.pause();
fx.isRunning(); // false
```

Returns **[Boolean][8]** 动画是否正在运行

## smoothScrollTo

平滑滚动到某个元素，只进行垂直方向的滚动

-   requires jQuery/Zepto

### Parameters

-   `node` **[Object][3]** 目标DOM元素
-   `spec` **[Object][3]** 选项
    -   `spec.delta` **[Number][4]** 目标滚动位置与目标元素顶部的间距，可以为负值 (optional, default `0`)
    -   `spec.maxDelay` **[Number][4]** 动画执行时间限制(ms)，动画执行超过此时间则直接停止，立刻滚动到目标位置 (optional, default `3000`)

### Examples

```javascript
// 滚动到页面顶端
smoothScrollTo(document.body);
```

## sticky

IOS sticky 效果 polyfill

-   requires jQuery/Zepto

### Parameters

-   `node` **[Object][3]** 目标DOM元素
-   `options` **[Object][3]** 选项
    -   `options.clone` **[Boolean][8]** 是否创建一个 clone 元素 (optional, default `true`)
    -   `options.placeholder` **[Object][3]** sticky 效果启动时的占位 dom 元素 (optional, default `null`)
    -   `options.disableAndroid` **[Boolean][8]** 是否在 Android 下停用 sticky 效果 (optional, default `false`)
    -   `options.offsetParent` **[Object][3]** 提供一个相对定位元素来匹配浮动时的定位样式 (optional, default `null`)
    -   `options.styles` **[Object][3]** 进入 sticky 状态时的样式 (optional, default `{}`)

### Examples

```javascript
sticky($('h1').get(0));
```

## timer

用 requestAnimationFrame 包装定时器

-   如果浏览器不支持 requestAnimationFrame API，则使用 BOM 原本的定时器API
-   requires jQuery/Zepto

### Examples

```javascript
timer.setTimeout(function () {
	console.info('output this log after 1000ms');
}, 1000);
```

### timer.setInterval

设置重复调用定时器

#### Parameters

-   `fn` **[Function][5]** 定时重复调用的函数
-   `delay` **[Number][4]** 重复调用的间隔时间(ms) (optional, default `0`)

Returns **[Object][3]** 定时器对象，可传入 clearInterval 方法来终止这个定时器

### timer.clearInterval

清除重复调用定时器

#### Parameters

-   `obj` **[Object][3]** 定时器对象

### timer.setTimeout

设置延时调用定时器

#### Parameters

-   `fn` **[Function][5]** 延时调用的函数
-   `delay` **[Number][4]** 延时调用的间隔时间(ms) (optional, default `0`)

Returns **[Object][3]** 定时器对象，可传入 clearTimeout 方法来终止这个定时器

### timer.clearTimeout

清除延时调用定时器

#### Parameters

-   `obj` **[Object][3]** 定时器对象

## transitions

-   **See: [https://mootools.net/core/docs/1.6.0/Fx/Fx.Transitions#Fx-Transitions][9]**

动画运行方式库

-   Pow
-   Expo
-   Circ
-   Sine
-   Back
-   Bounce
-   Elastic
-   Quad
-   Cubic
-   Quart
-   Quint

### Examples

```javascript
var Fx = require('spore-kit-fx/fx');
var transitions = require('spore-kit-fx/transitions');
new Fx({
	transition : transitions.Sine.easeInOut
});
new Fx({
	transition : 'Sine:In'
});
new Fx({
	transition : 'Sine:In:Out'
});
```

[1]: https://github.com/SporeUI/spore-kit/tree/master/packages/fx

[2]: https://gist.github.com/gre/1650294

[3]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[4]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[5]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[6]: https://mootools.net/core/docs/1.6.0/Fx/Fx

[7]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[8]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[9]: https://mootools.net/core/docs/1.6.0/Fx/Fx.Transitions#Fx-Transitions
