<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## spore-kit-time

-   **See: [https://github.com/SporeUI/spore-kit/tree/master/packages/time][1]**

# 时间处理与交互工具

### Examples

```javascript
// 统一引入 spore-kit
var $kit = require('spore-kit');
console.info($kit.time.parseUnit);

// 单独引入 spore-kit-time
var $time = require('spore-kit-time');
console.info($time.parseUnit);

// 单独引入一个方法
var $parseUnit = require('spore-kit-time/parseUnit');
```

## countDown

提供倒计时器统一封装

### Parameters

-   `spec` **[Object][2]** 选项
    -   `spec.base` **[Date][3]?** 矫正时间，如果需要用服务端时间矫正倒计时，使用此参数
    -   `spec.target` **[Date][3]** 目标时间 (optional, default `Date.now()+3000`)
    -   `spec.interval` **[Number][4]** 倒计时触发间隔 (optional, default `1000`)
    -   `spec.onChange` **[Function][5]?** 倒计时触发变更的事件回调
    -   `spec.onStop` **[Function][5]?** 倒计时结束的回调

### Examples

```javascript
var target = Date.now() + 5000;
var cd1 = countDown({
	target : target,
	onChange : function(delta){
		console.info('cd1 change', delta);
	},
	onStop : function(delta){
		console.info('cd1 stop', delta);
	}
});
setTimeout(function(){
	//trigger stop
	cd1.stop();
}, 2000);
var cd2 = countDown({
	target : target,
	interval : 2000,
	onChange : function(delta){
		console.info('cd2 change', delta);
	},
	onStop : function(delta){
		console.info('cd2 stop', delta);
	}
});
```

Returns **[Object][2]** 倒计时对象实例

### countDown#setTarget

重设目标时间

#### Examples

```javascript
var cd = countDown();
var localTime = '2019/01/01';
cd.setTarget(serverTime);
```

### countDown#correct

纠正时间差

#### Examples

```javascript
var cd = countDown();
var serverTime = '2019/01/01';
var localTime = '2020/01/01';
cd.correct(serverTime);
cd.correct(serverTime, localTime);
```

### countDown#stop

停止倒计时

#### Examples

```javascript
var cd = countDown();
cd.stop();
```

### countDown#destroy

销毁倒计时

#### Examples

```javascript
var cd = countDown();
cd.destroy();
```

## parseUnit

时间数字拆分为天时分秒

### Parameters

-   `time` **[Number][4]** 毫秒数
-   `spec` **[Object][2]** 选项
    -   `spec.maxUnit` **[String][6]** 拆分时间的最大单位，可选 ['day', 'hour', 'minute', 'second'] (optional, default `'day'`)

### Examples

```javascript
console.info( parseUnit(12345 * 67890) );
// Object {day: 9, hour: 16, minute: 48, second: 22, ms: 50}
console.info( parseUnit(12345 * 67890, {maxUnit : 'hour'}) );
// Object {hour: 232, minute: 48, second: 22, ms: 50}
```

Returns **[Object][2]** 拆分完成的天时分秒

[1]: https://github.com/SporeUI/spore-kit/tree/master/packages/time

[2]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[3]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date

[4]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[5]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[6]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String
